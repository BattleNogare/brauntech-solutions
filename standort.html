<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>BraunTech Solutions – Standort &amp; Anfahrt</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Hauptlayout -->
    <link rel="stylesheet" href="brauntech.css">
    <!-- Hintergrund / Effekte -->
    <link rel="stylesheet" href="custom.d/background.css">
    <script src="custom.d/background.js" defer></script>

    <style>
        /* ===========================
           Standortseite – Zusatzstyles
        ============================ */

        .bt-page-standort {
            padding-top: 2.5rem;
            padding-bottom: 3.5rem;
        }

        .bt-page-standort-header {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin-bottom: 2rem;
        }

        .bt-page-standort-header h1 {
            margin: 0;
        }

        .bt-page-standort-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            align-items: center;
        }

        .bt-pill {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.35rem 0.9rem;
            border-radius: 999px;
            border: 1px solid rgba(255, 255, 255, 0.12);
            background: linear-gradient(
                135deg,
                rgba(57, 255, 20, 0.18),
                rgba(57, 255, 20, 0.02)
            );
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.04em;
        }

        .bt-pill-dot {
            width: 7px;
            height: 7px;
            border-radius: 999px;
            background: var(--green-light, #59ff7a);
            box-shadow: 0 0 8px rgba(57, 255, 20, 0.8);
        }

        .bt-page-standort-meta small {
            color: var(--bt-text-muted, #89a589);
        }

        /* Karten / Boxen */

        .bt-card {
            position: relative;
            background: radial-gradient(circle at top left,
                rgba(57, 255, 20, 0.14),
                transparent 55%
            ),
            var(--bt-bg-alt, #0b130e);
            border-radius: 14px;
            border: 1px solid var(--bt-border, #1a2e1f);
            padding: 1.6rem 1.8rem;
            box-shadow:
                0 26px 60px rgba(0, 0, 0, 0.75),
                0 0 0 1px rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(14px);
        }

        .bt-card h2,
        .bt-card h3 {
            margin-top: 0;
        }

        .bt-card + .bt-card {
            margin-top: 1.2rem;
        }

        .bt-card-accent::before {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: inherit;
            border: 1px solid rgba(57, 255, 20, 0.32);
            opacity: 0.85;
            pointer-events: none;
        }

        .bt-card-accent {
            overflow: hidden;
        }

        .bt-card-taglist {
            display: flex;
            flex-wrap: wrap;
            gap: 0.4rem;
            margin-top: 0.75rem;
        }

        .bt-tag {
            font-size: 0.75rem;
            padding: 0.2rem 0.7rem;
            border-radius: 999px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            color: var(--bt-text-muted, #89a589);
            background: rgba(0, 0, 0, 0.25);
        }

        /* Grids */

        .standort-grid,
        .weg-grid {
            display: grid;
            gap: 1.6rem;
        }

        .standort-grid {
            grid-template-columns: minmax(0, 1.7fr) minmax(0, 1.3fr);
            margin-bottom: 2rem;
        }

        .weg-grid {
            grid-template-columns: repeat(2, minmax(0, 1fr));
            margin-bottom: 2.4rem;
        }

        @media (max-width: 900px) {
            .standort-grid,
            .weg-grid {
                grid-template-columns: 1fr;
            }
        }

        .standort-address {
            display: grid;
            gap: 1rem;
        }

        .standort-address-block h3 {
            margin-top: 0;
            margin-bottom: 0.4rem;
        }

        .standort-address-block p {
            margin-top: 0;
        }

        .standort-address-list {
            padding-left: 1.2rem;
            margin: 0.2rem 0 0;
        }

        /* Standort-Karte (SVG) */

        .standort-map-card {
            margin-bottom: 2.4rem;
        }

        .standort-map-frame {
            margin-top: 1rem;
            border-radius: 14px;
            overflow: hidden;
            border: 1px solid var(--bt-border, #1a2e1f);
            box-shadow:
                0 22px 50px rgba(0, 0, 0, 0.85),
                0 0 0 1px rgba(255, 255, 255, 0.02);
            background: #000;
            cursor: grab;
        }

        .standort-map-frame:active {
            cursor: grabbing;
        }

        .standort-map-frame svg {
            display: block;
            width: 100%;
            height: 480px;
        }

        @media (max-width: 700px) {
            .standort-map-frame svg {
                height: 360px;
            }
        }

        /* Slideshow in Box */

        .bt-section-slideshow {
            margin-top: 2.5rem;
        }

        .bt-slideshow-card {
            display: grid;
            grid-template-columns: minmax(0, 1.7fr) minmax(0, 1.3fr);
            gap: 1.6rem;
            align-items: stretch;
        }

        @media (max-width: 900px) {
            .bt-slideshow-card {
                grid-template-columns: 1fr;
            }
        }

        .bt-slideshow-shell {
            position: relative;
            border-radius: 14px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.08);
            background: radial-gradient(circle at top,
                    rgba(57, 255, 20, 0.15),
                    transparent 55%
                ),
                #020402;
        }

        .bt-slideshow-shell::before {
            content: "";
            display: block;
            padding-top: 56%; /* 16:9 */
        }

        .bt-slideshow {
            position: absolute;
            inset: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .bt-slideshow-images {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .bt-slideshow-images img {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            transform: scale(1.03);
            transition:
                opacity 0.55s ease,
                transform 0.9s ease;
        }

        .bt-slideshow-images img.is-active {
            opacity: 1;
            transform: scale(1);
        }

        .bt-slide-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            border: none;
            background: radial-gradient(circle at center,
                rgba(0, 0, 0, 0.8),
                rgba(0, 0, 0, 0.3)
            );
            padding: 0.3rem 0.7rem;
            cursor: pointer;
            border-radius: 999px;
            font-size: 1.1rem;
            line-height: 1;
            backdrop-filter: blur(10px);
        }

        .bt-slide-prev { left: 0.75rem; }
        .bt-slide-next { right: 0.75rem; }

        .bt-slideshow-dots {
            position: absolute;
            bottom: 0.65rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 0.4rem;
        }

        .bt-slideshow-dots button {
            width: 9px;
            height: 9px;
            border-radius: 999px;
            border: none;
            opacity: 0.35;
            cursor: pointer;
            background: #ffffff;
        }

        .bt-slideshow-dots button.is-active {
            opacity: 1;
        }

        .bt-slideshow-info h2 {
            margin-top: 0;
            margin-bottom: 0.6rem;
        }

        .bt-slideshow-info p {
            margin-top: 0;
        }

        .bt-slideshow-info small {
            display: inline-block;
            margin-top: 0.75rem;
            color: var(--bt-text-muted, #89a589);
        }
    </style>
</head>
<body>

<!-- Rotierende Glow-Kreise (werden per JS gefüllt) -->
<div id="bt-glow-orbits"></div>

<!-- Random-Punkte-Layer (werden per JS gefüllt) -->
<div id="bt-points"></div>

<!-- NAVBAR wird automatisch geladen -->
<header class="bt-header" data-include="custom.d/navbar.html"></header>

<main class="bt-main">
    <div class="bt-container bt-page-standort">

        <!-- Kopfbereich mit Badge -->
        <div class="bt-page-standort-header">
            <div class="bt-page-standort-meta">
                <span class="bt-pill">
                    <span class="bt-pill-dot"></span>
                    Standort &amp; Anfahrt
                </span>
                <small>Knuffingen · Hohenstein · Baden-Württemberg</small>
            </div>
            <h1>So erreichen Sie BraunTech Solutions</h1>
            <p class="bt-text-muted">
                Alle Infos zu unserem Standort in Knuffingen (Hohenstein), der Anfahrt und ein paar Eindrücke vor Ort.
            </p>
        </div>

        <!-- Standortbeschreibung in Boxen -->
        <section class="bt-section">
            <div class="standort-grid">
                <!-- Linke Karte: Beschreibung -->
                <article class="bt-card bt-card-accent">
                    <h2>Unser Standort</h2>
                    <p>
                        BraunTech Solutions hat seinen Sitz in
                        <strong>Knuffingen, Hohenstein</strong>. Unser Büro liegt in einer ruhigen Seitenstraße
                        mit guter Anbindung an die umliegenden Orte – ideal für Besprechungen und Projekte.
                    </p>
                    <p>
                        Vor Ort verfügen wir über eine kleine Werkstatt für Projekte rund um
                        <strong>Recycling von Schrott</strong> sowie einen modernen Besprechungsbereich
                        für Kundentermine und Beratungsgespräche.
                    </p>

                    <div class="bt-card-taglist">
                        <span class="bt-tag">Ruhige Lage</span>
                        <span class="bt-tag">Gute Erreichbarkeit</span>
                        <span class="bt-tag">Werkstatt vor Ort</span>
                        <span class="bt-tag">Beratungsbereich</span>
                    </div>
                </article>

                <!-- Rechte Spalte: Adresse / Infos als mehrere Boxen -->
                <div class="standort-address">
                    <div class="bt-card standort-address-block">
                        <h3>Adresse</h3>
                        <p>
                            BraunTech Solutions<br>
                            Musterstraße&nbsp;12<br>
                            72800 Knuffingen / Hohenstein
                        </p>
                    </div>

                    <div class="bt-card standort-address-block">
                        <h3>Was Sie vor Ort erwartet</h3>
                        <ul class="standort-address-list">
                            <li>Parkmöglichkeiten direkt an der Straße</li>
                            <li>Gute Anbindung an die Bundesstraße</li>
                            <li>Kurzfristige Termine nach Absprache möglich</li>
                            <li>Ruhige, konzentrierte Arbeitsatmosphäre</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Wegebeschreibung in 2 Boxen -->
        <section class="bt-section">
            <h2>Wegebeschreibung</h2>
            <div class="weg-grid">
                <article class="bt-card">
                    <h3>Anfahrt mit dem Auto</h3>
                    <p>
                        Von Hohenstein oder der nächstgelegenen Bundesstraße folgen Sie der
                        Beschilderung Richtung <strong>Knuffingen</strong>. In Knuffingen
                        biegen Sie in die <em>Musterstraße</em> ein.
                    </p>
                    <p>
                        Nach wenigen hundert Metern finden Sie unser Büro auf der rechten
                        Straßenseite. In der Regel sind direkt vor dem Gebäude oder in den
                        angrenzenden Seitenstraßen Parkplätze verfügbar.
                    </p>
                </article>

                <article class="bt-card">
                    <h3>Mit öffentlichen Verkehrsmitteln</h3>
                    <p>
                        Nutzen Sie die regionale Buslinie bis zur Haltestelle
                        <strong>„Knuffingen Mitte“</strong>. Von dort aus sind es zu Fuß
                        etwa 5–10 Minuten bis zu unseren Räumlichkeiten.
                    </p>
                    <p>
                        Folgen Sie den Hinweisschildern Richtung <em>Musterstraße</em>.
                        Unser Standort liegt leicht zurückversetzt von der Straße –
                        bitte achten Sie auf das <strong>BraunTech Solutions</strong>-Logo
                        am Eingang.
                    </p>
                </article>
            </div>
        </section>

        <!-- Standortkarte als SVG mit island.svg -->
        <section class="bt-section">
            <article class="bt-card bt-card-accent standort-map-card">
                <h2>Standortkarte</h2>
                <p>
                    Interaktive Übersicht: Die Karte basiert auf einer SVG-Grafik. Sie können mit dem Mausrad
                    hinein- und herauszoomen und die Ansicht mit gedrückter Maustaste verschieben.
                </p>
                <div class="standort-map-frame">
                    <!-- WICHTIG: viewBox 0 0 10000 10000 -->
                    <svg id="bt-standort-svg" viewBox="0 0 10000 10000" xmlns="http://www.w3.org/2000/svg">
                        <!-- Alles, was gezoomt/verschoben werden soll, liegt in diesem <g> -->
                        <g id="bt-standort-map-inner">
                            <!-- Deine große Karte als eingebettete SVG-Datei -->
                            <image href="bilder/island.svg"
                                   x="0" y="0"
                                   width="10000" height="10000"
                                   preserveAspectRatio="xMidYMid meet"></image>

                            <!-- Marker an gewünschter Position -->
                            <!-- Koordinaten später im Script anpassen (markerX, markerY) -->
                            <g id="bt-standort-marker">
                                <circle cx="7970" cy="4430" r="25" fill="rgba(3,16,8,0.8)" stroke="#39ff14" stroke-width="6" />
                           <!-- <circle cx="7970" cy="4430" r="26" fill="#39ff14" />
                                <circle cx="7970" cy="4430" r="46" fill="none" stroke="#39ff14" stroke-width="4" opacity="0.7" />-->
                            </g>

                            <!-- Optional: Beschriftung neben dem Marker -->
                            <text x="8050" y="4470"
                                  fill="#c8ffd5"
                                  font-size="120"
                                  font-family="system-ui, sans-serif">
                                BraunTech Solutions
                            </text>
                        </g>
                    </svg>
                </div>
            </article>
        </section>

        <!-- Diashow in moderner Box -->
        <section class="bt-section bt-section-slideshow">
            <div class="bt-card bt-slideshow-card">
                <div class="bt-slideshow-shell">
                    <div class="bt-slideshow" aria-label="Bilderslideshow zum Standort von BraunTech Solutions">
                        <div class="bt-slideshow-images">
                            <!-- Bildpfade bei Bedarf anpassen -->
                            <img src="bilder/standort-01.jpg" alt="Außenansicht des Standorts von BraunTech Solutions" class="is-active">
                            <img src="bilder/standort-02.jpg" alt="Innenraum / Werkstatt von BraunTech Solutions">
                            <img src="bilder/standort-03.jpg" alt="Besprechungsbereich von BraunTech Solutions">
                            <img src="bilder/standort-04.jpg" alt="Umgebung rund um den Standort von BraunTech Solutions">
                        </div>

                        <button class="bt-slide-btn bt-slide-prev" type="button" aria-label="Vorheriges Bild">
                            &#10094;
                        </button>
                        <button class="bt-slide-btn bt-slide-next" type="button" aria-label="Nächstes Bild">
                            &#10095;
                        </button>

                        <div class="bt-slideshow-dots" aria-hidden="true">
                            <button type="button" data-index="0" class="is-active"></button>
                            <button type="button" data-index="1"></button>
                            <button type="button" data-index="2"></button>
                            <button type="button" data-index="3"></button>
                        </div>
                    </div>
                </div>

                <div class="bt-slideshow-info">
                    <h2>Impressionen &amp; Umgebung</h2>
                    <p>
                        Ein paar Eindrücke von unserem Standort, der Werkstatt und der direkten Umgebung. So bekommen Sie schon
                        vor Ihrem Besuch ein Gefühl dafür, wo Sie uns finden und wie es bei uns aussieht.
                    </p>
                    <p>
                        Die Bilder zeigen unter anderem die Außenansicht, den Werkstattbereich für Projekte im Bereich
                        <strong>Recycling von Schrott</strong> sowie unseren Besprechungsbereich.
                    </p>
                    <small>
                        Tipp: Wenn Sie uns zum ersten Mal besuchen, planen Sie bitte ein paar Minuten zusätzliche Zeit
                        für die Parkplatzsuche ein.
                    </small>
                </div>
            </div>
        </section>

    </div>
</main>

<!-- FOOTER wird automatisch geladen -->
<footer class="bt-footer" data-include="custom.d/footer.html"></footer>

<script>
    // --- Einfacher Include-Loader für Header/Footer ---
    document.addEventListener("DOMContentLoaded", function () {
        document.querySelectorAll("[data-include]").forEach(function (el) {
            const file = el.getAttribute("data-include");
            if (!file) return;

            fetch(file)
                .then(function (response) {
                    if (!response.ok) throw new Error("Include konnte nicht geladen werden: " + file);
                    return response.text();
                })
                .then(function (html) {
                    el.innerHTML = html;
                })
                .catch(function (err) {
                    console.error(err);
                });
        });
    });

    // Falls dein footer.html ein <span id="bt-year"> enthält:
    (function () {
        var yearEl = document.getElementById('bt-year');
        if (yearEl) {
            yearEl.textContent = new Date().getFullYear();
        }
    })();

    // Slideshow-Script
    document.addEventListener('DOMContentLoaded', function () {
        const slideshows = document.querySelectorAll('.bt-slideshow');

        slideshows.forEach(function (slideshow) {
            const images = slideshow.querySelectorAll('.bt-slideshow-images img');
            const dots = slideshow.querySelectorAll('.bt-slideshow-dots button');
            const prevBtn = slideshow.querySelector('.bt-slide-prev');
            const nextBtn = slideshow.querySelector('.bt-slide-next');

            if (!images.length) return;

            let current = 0;
            let autoTimer = null;

            function setActive(index) {
                images.forEach((img, i) => {
                    img.classList.toggle('is-active', i === index);
                });
                dots.forEach((dot, i) => {
                    dot.classList.toggle('is-active', i === index);
                });
                current = index;
            }

            function showNext(step) {
                const count = images.length;
                const newIndex = (current + step + count) % count;
                setActive(newIndex);
            }

            function startAutoPlay() {
                stopAutoPlay();
                autoTimer = setInterval(function () {
                    showNext(1);
                }, 8000);
            }

            function stopAutoPlay() {
                if (autoTimer) {
                    clearInterval(autoTimer);
                    autoTimer = null;
                }
            }

            if (prevBtn) {
                prevBtn.addEventListener('click', function () {
                    stopAutoPlay();
                    showNext(-1);
                    startAutoPlay();
                });
            }

            if (nextBtn) {
                nextBtn.addEventListener('click', function () {
                    stopAutoPlay();
                    showNext(1);
                    startAutoPlay();
                });
            }

            dots.forEach((dot, index) => {
                dot.addEventListener('click', function () {
                    stopAutoPlay();
                    setActive(index);
                    startAutoPlay();
                });
            });

            setActive(0);
            startAutoPlay();
        });
    });

    // SVG Zoom & Pan (Mausrad + Drag) – initial auf Marker gezoomt
    (function () {
        const svg   = document.getElementById('bt-standort-svg');
        const inner = document.getElementById('bt-standort-map-inner');
        if (!svg || !inner) return;

        // === Marker-Position in SVG-Koordinaten (0–10000) ===
        const markerX = 7970; // HIER anpassen
        const markerY = 4430; // HIER anpassen

        // viewBox auslesen, um die Mitte zu bestimmen
        const vb = svg.viewBox.baseVal;
        const centerX = vb.x + vb.width  / 2;
        const centerY = vb.y + vb.height / 2;

        // Initialer Zoomfaktor
        let scale = 5; // höher = stärker gezoomt

        // Initiale Verschiebung so berechnen, dass der Marker in der Mitte landet
        let panX = centerX - markerX * scale;
        let panY = centerY - markerY * scale;

        function updateTransform() {
            inner.setAttribute('transform', `translate(${panX} ${panY}) scale(${scale})`);
        }

        updateTransform();

        // Zoom per Mausrad
        svg.addEventListener('wheel', function (e) {
            e.preventDefault();

            const zoomIntensity = 0.0015;
            const delta = -e.deltaY;
            const zoomFactor = 1 + delta * zoomIntensity;

            const newScale = Math.min(12, Math.max(0.5, scale * zoomFactor));
            if (newScale === scale) return;

            // Weltkoordinate unter dem Mauszeiger ermitteln
            const pt = svg.createSVGPoint();
            pt.x = e.clientX;
            pt.y = e.clientY;
            const cursor = pt.matrixTransform(inner.getScreenCTM().inverse()); // Koord. im inner-G-Koordinatensystem

            // Pan so anpassen, dass der Punkt unter dem Cursor an der gleichen Stelle bleibt
            panX += cursor.x * (scale - newScale);
            panY += cursor.y * (scale - newScale);

            scale = newScale;
            updateTransform();
        }, { passive: false });

        // Pan per Drag
        let isPanning = false;
        let startX = 0;
        let startY = 0;
        let startPanX = 0;
        let startPanY = 0;

        svg.addEventListener('mousedown', function (e) {
            isPanning = true;
            startX = e.clientX;
            startY = e.clientY;
            startPanX = panX;
            startPanY = panY;
        });

        window.addEventListener('mousemove', function (e) {
            if (!isPanning) return;
            const dx = (e.clientX - startX) / scale;
            const dy = (e.clientY - startY) / scale;
            panX = startPanX + dx;
            panY = startPanY + dy;
            updateTransform();
        });

        window.addEventListener('mouseup', function () {
            isPanning = false;
        });
    })();
</script>

</body>
</html>
