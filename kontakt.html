<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>BraunTech Solutions ‚Äì Kontakt</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Hauptlayout -->
    <link rel="stylesheet" href="brauntech.css">
    <!-- Hintergrund / Effekte -->
    <link rel="stylesheet" href="custom.d/background.css">
    <script src="custom.d/background.js" defer></script>

    <style>
        /* ===========================
           Kontaktseite ‚Äì Zusatzstyles
        ============================ */

        .bt-page-contact {
            padding-top: 2.5rem;
            padding-bottom: 3.5rem;
        }

        .bt-page-contact-header {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin-bottom: 2rem;
            max-width: 720px;
        }

        .bt-page-contact-header h1 {
            margin: 0;
        }

        .bt-page-contact-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            align-items: mit flex-start;
        }

        .bt-page-contact-meta small {
            color: var(--bt-text-muted);
        }

        .bt-contact-intro {
            max-width: 720px;
            color: var(--bt-text-muted);
        }

        /* Layout: Infos + Formular */

        .bt-contact-grid {
            display: grid;
            grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.4fr);
            gap: 2rem;
            align-items: flex-start;
        }

        .bt-contact-panel,
        .bt-form-card {
            /* nutzen das globale Card-Design */
        }

        .bt-contact-panel h2,
        .bt-form-card h2 {
            margin-top: 0;
            margin-bottom: 0.75rem;
        }

        .bt-contact-panel p {
            margin-top: 0.25rem;
            color: var(--bt-text-muted);
        }

        .bt-contact-list {
            list-style: none;
            padding: 0;
            margin: 1rem 0 0;
        }

        .bt-contact-list li {
            margin-bottom: 0.45rem;
            display: flex;
            gap: 0.5rem;
            align-items: baseline;
            color: var(--bt-text-muted);
            font-size: 0.95rem;
        }

        .bt-contact-list span.bt-contact-icon {
            font-size: 1.05rem;
            opacity: 0.9;
        }

        /* Bild mit Rahmen unter Kontaktinfos */

        .bt-contact-image-wrapper {
            margin-top: 1.4rem;
            border-radius: var(--bt-radius);
            border: 1px solid rgba(57, 255, 20, 0.35);
            box-shadow:
                0 0 18px rgba(57, 255, 20, 0.4),
                0 0 35px rgba(0, 0, 0, 0.9);
            overflow: hidden;
            background: radial-gradient(circle at top, #07150c, #020604);
        }

        .bt-contact-image-wrapper img {
            display: block;
            width: 100%;
            height: auto;
            opacity: 0.95;
            transition: transform 0.4s ease, opacity 0.2s ease;
        }

        .bt-contact-image-wrapper:hover img {
            transform: scale(1.03);
            opacity: 1;
        }

        .bt-contact-image-caption {
            padding: 0.5rem 0.75rem;
            font-size: 0.8rem;
            color: var(--bt-text-muted);
            font-family: var(--bt-font-mono);
            text-transform: uppercase;
            letter-spacing: 0.06em;
        }

        /* Formular */

        .bt-form-card h2 {
            font-size: 1.2rem;
        }

        .bt-form {
            margin-top: 1.1rem;
        }

        .bt-form-row {
            margin-bottom: 1rem;
        }

        .bt-form-row label {
            display: block;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.06em;
            font-family: var(--bt-font-mono);
            color: var(--bt-text-muted);
            margin-bottom: 0.3rem;
        }

        .bt-form-row label span.bt-required {
            color: var(--green-light);
            margin-left: 0.15rem;
        }

        .bt-input,
        .bt-textarea {
            width: 100%;
            padding: 0.6rem 0.7rem;
            border-radius: 4px;
            border: 1px solid #163822;
            background: #050b08;
            color: var(--bt-text);
            font: 0.95rem var(--bt-font-main);
            outline: none;
            transition: border-color 0.15s ease, box-shadow 0.15s ease, background 0.15s ease;
        }

        .bt-input:focus,
        .bt-textarea:focus {
            border-color: var(--green-light);
            box-shadow:
                0 0 0 1px rgba(57, 255, 20, 0.35),
                0 0 18px rgba(57, 255, 20, 0.22);
            background: #06130b;
        }

        .bt-textarea {
            min-height: 150px;
            resize: vertical;
        }

        .bt-checkbox-row {
            display: flex;
            align-items: flex-start;
            gap: 0.6rem;
            margin-top: 0.4rem;
        }

        .bt-checkbox-row input[type="checkbox"] {
            margin-top: 0.08rem;
        }

        .bt-checkbox-label {
            font-size: 0.85rem;
            color: var(--bt-text-muted);
        }

        .bt-checkbox-label a {
            text-decoration: underline;
            text-underline-offset: 3px;
        }

        .bt-form-actions {
            margin-top: 1.2rem;
            display: flex;
            align-items: center;
            gap: 0.9rem;
            flex-wrap: wrap;
        }

        .bt-btn-primary {
            border: none;
            border-radius: 999px;
            padding: 0.55rem 1.4rem;
            font-family: var(--bt-font-mono);
            text-transform: uppercase;
            letter-spacing: 0.08em;
            font-size: 0.8rem;
            cursor: pointer;
            background: radial-gradient(circle at top left, var(--green-light), var(--green-mid));
            color: #021005;
            box-shadow:
                0 0 15px rgba(57, 255, 20, 0.5),
                0 0 40px rgba(0, 0, 0, 0.9);
            transition: transform 0.15s ease, box-shadow 0.15s ease, filter 0.15s ease;
        }

        .bt-btn-primary:hover:not(:disabled) {
            transform: translateY(-1px);
            box-shadow:
                0 0 22px rgba(57, 255, 20, 0.7),
                0 0 50px rgba(0, 0, 0, 1);
            filter: brightness(1.05);
        }

        .bt-btn-primary:disabled {
            cursor: wait;
            opacity: 0.7;
        }

        .bt-form-status {
            font-size: 0.8rem;
            color: var(--bt-text-muted);
            min-height: 1.1em;
        }

        .bt-form-status--success {
            color: var(--green-light);
        }

        .bt-form-status--error {
            color: #ff8f8f;
        }

        @media (max-width: 850px) {
            .bt-contact-grid {
                grid-template-columns: minmax(0, 1fr);
            }
        }
    </style>
</head>
<body>

<!-- Rotierende Glow-Kreise (werden per JS gef√ºllt) -->
<div id="bt-glow-orbits"></div>

<!-- Random-Punkte-Layer (werden per JS gef√ºllt) -->
<div id="bt-points"></div>

<!-- NAVBAR wird automatisch geladen -->
<header class="bt-header" data-include="custom.d/navbar.html"></header>

<main class="bt-main">
    <div class="bt-container bt-page-contact">

        <!-- Einheitlicher Header mit Pill -->
        <header class="bt-page-contact-header">
            <div class="bt-page-contact-meta">
                <span class="bt-pill">
                    <span class="bt-pill-dot"></span>
                    Kontakt ¬∑ Anfrage
                </span>
                <small>BraunTech Solutions ¬∑ Knuffingen ¬∑ Hohenstein</small>
            </div>
            <h1>So erreichen Sie BraunTech Solutions</h1>
            <p class="bt-contact-intro">
                Egal ob es um Recycling-Projekte, Materialaufbereitung oder digitale L√∂sungen geht ‚Äì
                √ºber dieses Formular oder die Kontaktdaten erreichen Sie direkt BraunTech Solutions.
            </p>
        </header>

        <!-- Kontakt-Grid: Infos + Formular -->
        <section class="bt-section">
            <div class="bt-contact-grid">

                <!-- Kontakt-Infos -->
                <section class="bt-card bt-card-accent bt-contact-panel">
                    <h2>Direkter Kontakt</h2>
                    <p>Schreiben Sie eine Nachricht oder greifen Sie direkt zum H√∂rer.</p>

                    <ul class="bt-contact-list">
                        <li>
                            <span class="bt-contact-icon">üè¢</span>
                            <span>
                                <strong>BraunTech Solutions</strong><br>
                                Knuffingen, Hohenstein<br>
                                Deutschland
                            </span>
                        </li>
                        <li>
                            <span class="bt-contact-icon">üìû</span>
                            <span>
                                Telefon:
                                <a href="tel:+491234567890">
                                    +49&nbsp;1234&nbsp;567890
                                </a>
                            </span>
                        </li>
                    </ul>

                    <!-- Bild mit Rahmen -->
                    <div class="bt-contact-image-wrapper">
                        <img src="bilder/kontakt-bild.png" alt="BraunTech Solutions Kontakt Bild">
                        <div class="bt-contact-image-caption">
                            Wir helfen Ihnen weiter
                        </div>
                    </div>
                </section>

                <!-- Kontaktformular -->
                <section class="bt-card bt-form-card" aria-labelledby="kontakt-heading">
                    <h2 id="kontakt-heading">Wie d√ºrfen wir Ihnen helfen?</h2>

                    <form id="kontakt-form" class="bt-form" novalidate>
                        <div class="bt-form-row">
                            <label for="kontakt-name">
                                Name<span class="bt-required">*</span>
                            </label>
                            <input
                                type="text"
                                id="kontakt-name"
                                name="name"
                                class="bt-input"
                                required
                                autocomplete="name"
                                placeholder="Ihr Name">
                        </div>

                        <div class="bt-form-row">
                            <label for="kontakt-betreff">
                                Betreff<span class="bt-required">*</span>
                            </label>
                            <input
                                type="text"
                                id="kontakt-betreff"
                                name="betreff"
                                class="bt-input"
                                required
                                placeholder="Worum geht es?">
                        </div>

                        <div class="bt-form-row">
                            <label for="kontakt-nachricht">
                                Nachricht<span class="bt-required">*</span>
                            </label>
                            <textarea
                                id="kontakt-nachricht"
                                name="nachricht"
                                class="bt-textarea"
                                required
                                placeholder="Beschreiben Sie kurz Ihr Anliegen ‚Äì je genauer, desto besser."></textarea>
                        </div>

                        <div class="bt-form-row">
                            <div class="bt-checkbox-row">
                                <input
                                    type="checkbox"
                                    id="kontakt-datenschutz"
                                    name="datenschutz"
                                    required>
                                <label for="kontakt-datenschutz" class="bt-checkbox-label">
                                    Ich habe die
                                    <a href="datenschutz.html" target="_blank" rel="noopener">
                                        Datenschutzbestimmungen
                                    </a>
                                    gelesen und akzeptiere diese.<span class="bt-required">*</span>
                                </label>
                            </div>
                        </div>

                        <div class="bt-form-actions">
                            <button type="submit" class="bt-btn-primary" id="kontakt-submit">
                                Senden
                            </button>
                            <div id="form-status" class="bt-form-status" aria-live="polite"></div>
                        </div>
                    </form>
                </section>

            </div>
        </section>
    </div>
</main>

<!-- FOOTER wird automatisch geladen -->
<footer class="bt-footer" data-include="custom.d/footer.html"></footer>

<script>
    // --- Einfacher Include-Loader f√ºr Header/Footer ---
    document.addEventListener("DOMContentLoaded", function () {
        document.querySelectorAll("[data-include]").forEach(function (el) {
            const file = el.getAttribute("data-include");
            if (!file) return;

            fetch(file)
                .then(function (response) {
                    if (!response.ok) throw new Error("Include konnte nicht geladen werden: " + file);
                    return response.text();
                })
                .then(function (html) {
                    el.innerHTML = html;
                })
                .catch(function (err) {
                    console.error(err);
                });
        });
    });

    // Falls dein footer.html ein <span id="bt-year"> enth√§lt:
    (function () {
        var yearEl = document.getElementById('bt-year');
        if (yearEl) {
            yearEl.textContent = new Date().getFullYear();
        }
    })();

    // Kontaktformular ‚Üí Discord Webhook (mit Embed)
    (function () {
        const form = document.getElementById('kontakt-form');
        const submitBtn = document.getElementById('kontakt-submit');
        const statusEl = document.getElementById('form-status');

        const WEBHOOK_URL = "https://discord.com/api/webhooks/1441017696643715225/Gi1xR16YB1hj_JjXwcjmcSu6d0kbIHd5JM0BxYy3fnjJ5NG54LGAifL2V6xUg4diTRIQ";

        if (!form) return;

        function setStatus(message, type) {
            statusEl.textContent = message || "";
            statusEl.classList.remove('bt-form-status--success', 'bt-form-status--error');
            if (type) {
                statusEl.classList.add(
                    type === 'success' ? 'bt-form-status--success' : 'bt-form-status--error'
                );
            }
        }

        form.addEventListener('submit', function (e) {
            e.preventDefault();
            setStatus("", null);

            // HTML5-Validierung
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }

            const name = document.getElementById('kontakt-name').value.trim();
            const betreff = document.getElementById('kontakt-betreff').value.trim();
            const nachricht = document.getElementById('kontakt-nachricht').value.trim();

            submitBtn.disabled = true;
            submitBtn.textContent = "Wird gesendet ‚Ä¶";
            setStatus("Nachricht wird an BraunTech Solutions √ºbermittelt ‚Ä¶", null);

            // Sch√∂ne Embed-Nachricht f√ºr Discord
            const embed = {
                title: "Neue Kontaktanfrage",
                description: "Eine neue Nachricht wurde √ºber das Kontaktformular der Website gesendet.",
                color: 0x39ff14, // Gr√ºn in Hex
                fields: [
                    {
                        name: "Name",
                        value: name || "‚Äì",
                        inline: false
                    },
                    {
                        name: "Betreff",
                        value: betreff || "‚Äì",
                        inline: false
                    },
                    {
                        name: "Nachricht",
                        value: nachricht || "‚Äì",
                        inline: false
                    }
                ],
                timestamp: new Date().toISOString(),
                footer: {
                    text: "BraunTech Solutions ‚Äì Kontaktformular"
                }
            };

            const payload = {
                content: "üì© **Neue Kontaktanfrage eingegangen**",
                embeds: [embed]
            };

            fetch(WEBHOOK_URL, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(payload)
            })
            .then(function (response) {
                if (!response.ok) {
                    throw new Error("HTTP " + response.status);
                }
                setStatus("Vielen Dank! Ihre Nachricht wurde √ºbermittelt.", "success");
                form.reset();
            })
            .catch(function (err) {
                console.error(err);
                setStatus("Es ist ein Fehler beim Senden aufgetreten. Bitte versuchen Sie es sp√§ter erneut.", "error");
            })
            .finally(function () {
                submitBtn.disabled = false;
                submitBtn.textContent = "Senden";
            });
        });
    })();
</script>

</body>
</html>
